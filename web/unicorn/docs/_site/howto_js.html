<!DOCTYPE html>
<html class="no-js">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<title>Javascript | Project Unicorn Developer Guide</title>

<!--[if lt IE 9]>
<script src="//ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<script src="../common/unicorn/vendors/js/selectivizr.js" type="text/javascript"></script>
<![endif]-->

	<script type="text/javascript" src="/common/unicorn/vendors/headjs/dist/head.min.js"></script>
	<script type="text/javascript" src="/common/unicorn/js/common.js"></script>

	<link rel="stylesheet" type="text/css" href="/common/unicorn/css/common.css" />

	


<!--[if lt IE 8]>
<link rel="stylesheet" type="text/css" href="/common/unicorn/css/ie7.css" />
<![endif]-->

	<!-- FOR DOCUMENTATION -->
	<link rel="stylesheet" type="text/css" href="css/docs.css" />

</head>
<body>
	<h1 class="offscreen">Javascript | Project Unicorn Developer Guide</h1>

		<!-- NAVBAR -->
	<div class="navbar navbar-static-top navbar-inverse">
		<div class="navbar-inner">
			<ul id="nav" class="nav">
				<li ><a href="http://www.hathitrust.org">Home</a></li>
				<li><a href="http://www.hathitrust.org/about">About</a>
					<ul>
					<li><a href="http://www.hathitrust.org/partnership">Our Partnership</a></li>
					<li><a href="http://www.hathitrust.org/digital_library">Our Digital Library</a></li>
					<li><a href="http://www.hathitrust.org/htrc">Our Research Center</a></li>
					<li><a href="http://www.hathitrust.org/news_publications">News &amp; Publications</a></li>
					</ul></li>
				<li><a href="http://babel.hathitrust.org/cgi/mb">Collections</a></li>
				<li class="divider-vertical"></li>
				<li class="help"><a href="http://www.hathitrust.org/help">Help</a></li>
				<li><a href="#" data-m="ht" data-id="HathiTrust Project Unicorn Guide" data-toggle="feedback">Feedback</a></li>
								<li class="divider-vertical"></li>
				<li class="guidelines">
					<a href="index.html">Guide/Examples</a>
					<ul>
						<li class="topic"><a href="overview.html">Techical Overview</a></li>
						<li><a href="overview_sass.html">Developing with Sass</a></li>
						<li><a href="overview_css.html">Developing with CSS</a></li>

						<li class="topic"><span>Components</span></li>

						<li><a href="howto_js.html">Javascript</a></li>
						<li><a href="howto_feedback.html">Javascript: Feedback</a></li>
						<li><a href="howto_icons.html">Icon Fonts</a></li>
						<li><a href="howto_forms.html">Forms</a></li>
						<li><a href="howto_grid.html">Grid/Layout</a></li>

						<li class="topic"><span>Examples</span></li>

						<li><a href="logged_in.html">Logged In Example</a></li>
						<li><a href="no_header_search.html">Hiding Header Search</a></li>
						<li><a href="sidebar.html">Sidebar Example</a></li>
						<li><a href="search_results.html">Search Results Example</a></li>
						<li><a href="sidebar_long.html">Long Sidebar Example</a></li>
						<li><a href="mb.html">Collection Builder Results Example</a></li>
						<li><a href="mb_detail.html">Collection Builder Detail Example</a></li>


					</ul>
				</li>

			</ul>
			
		</div>
	</div>
	

		<!-- HEADER -->
	<div class="container centered header clearfix">
		<div class="logo">
			<a href="http://www.hathitrust.org"><span class="offscreen">HathiTrust Digital Library</span></a>
		</div>
		<div class="search-form">

			<form action="/cgi/ls/one" method="GET">
				<div class="search-tabs">
					<input name="target" type="radio" id="option-full-text-search" value="ls" checked="checked" />
					<label for="option-full-text-search" class="search-label-full-text">Full-text</label>
					<input name="target" type="radio" id="option-catalog-search" value="catalog" />
					<label for="option-catalog-search" class="search-label-catalog">Catalog</label>
				</div>
				<fieldset>
					<input name="q1" type="text" class="search-input-text" placeholder="Search words about or within the items" value="" />
					<div class="search-input-options">
						<select size="1" class="search-input-select" name="searchtype">
							<option value="all">Everything</option>
							<option value="title">Title</option>
							<option value="author">Author</option>
							<option value="subject">Subject</option>
							<option value="isbn">ISBN/ISSN</option>
							<option value="publisher">Publisher</option>
							<option value="seriestitle">Series Title</option>
							<option value="pubyear">Publication Year</option>
						</select>
					</div>
					<button class="button"><span class="offscreen">Search</span></button>
				</fieldset>
				<div class="search-extra-options">
					<ul class="search-links">
						<li class="search-advanced-link"><a href="#">Advanced full-text search</a></li>
						<li class="search-catalog-link"><a href="#">Advanced catalog search</a></li>
						<li><a href="#">Search tips</a></li>
					</ul>
					<label>
						<input type="checkbox" value="ft" />
						Full view only
					</label>
				</div>
			</form>

		</div>
		<div class="login">
			
			<a href="#" id="login-button" class="button log-in">LOG IN</a>
			
		</div>
	</div>

	<!-- fancybox -->
<link rel="stylesheet" type="text/css" href="/common/unicorn/vendors/fancyBox/source/jquery.fancybox.css" />
<!-- <script type="text/javascript" src="/common/unicorn/vendors/fancyBox/source/jquery.fancybox.js"></script> -->

<!-- dialog -->
<!-- <script type="text/javascript" src="/common/unicorn/vendors/bootstrap/js/bootstrap-modal.js"></script>
<script type="text/javascript" src="/common/unicorn/vendors/bootstrap/js/bootbox.min.js"></script> -->

<div class="container page centered">
    <div class="main">
        <h2>Javascript</h2>
        <p>
            Unicorn will maintain the Bootstrap javascript, as well as a few extra widgets.
            <em>Should these be minimized/packed into a single common file? Or left </em>
        </p>

        <h3>Dialog/Modal</h3>
        <p>
            We're borrowing Bootstrap's modal functionality (<a href="http://twitter.github.com/bootstrap/javascript.html#modals">documentation</a>), as well as using <a href="http://bootboxjs.com">Bootbox</a> to programatically create various kinds of modal dialogs.
        </p>
        <textarea class="example">
$(".bootbox-example").click(function() {
    bootbox.confirm("<p>Truly cancel PDF download?</p><p><small>We did spend a long time working on it...</small></p>", function(result) {
        if ( result ) {
            bootbox.alert("PDF canceled");
        }
    });
    return false;
})
        </textarea>
        <p>
            <button class="btn bootbox-example">Modal Confirmation Demo</button>
            <button class="btn progress-example">Modal Progress Demo</button>            
        </p>
        <script>
        head.ready(function() {
            $(".bootbox-example").click(function() {
                bootbox.confirm("<p>Truly cancel PDF download?</p><p><small>We did spend a long time working on it...</small></p>", function(result) {
                    if ( result ) {
                        bootbox.alert("PDF canceled");
                    }
                });
                return false;
            })

            $(".progress-example").click(function() {

                /* LIMIT SCRIPT TO THIS CLOSURE */
                var $a; var timer;
                function update_progress() {
                    var $body = $a.find(".modal-body");
                    var $div = $a.find(".bar");
                    var total = $div.data("total");
                    if ( total == 100 ) {
                        clearInterval(timer);
                        $div.parent().hide().parent().find(".done").show();
                        $a.find(".download-pdf").show();
                        return;
                    }
                    total += 10;
                    $div.data('total', total);
                    $div.css('width', total + '%');
                }

                $a = bootbox.dialog("<p>Building your PDF:</p><div class='progress'><div class='bar' data-total='0' style='width: 0%'></div></div><div class='done hide'><p>All done!</p></div>",
                    [{
                        label : "Download PDF",
                        "class" : "btn-primary hide download-pdf",
                        callback : function() {
                            bootbox.alert("Downloading PDF...");
                        }
                    },
                    {
                        label : "Cancel",
                        "class" : "btn",
                        callback : function() {
                            clearInterval(timer);
                        }
                    }]
                );
                setInterval(update_progress, 1000);
            })            
        })
        </script>
        <p>
            You can also use Bootstrap's declarative approach:
        </p>
        <textarea class="example">
<div id="feedback-dialog" class="modal hide fade">
    <div class="modal-header">
        <h2>Feedback</h2>
    </div>
    <div class="modal-body">
        <form>
            <fieldset>
                <legend>Overall page readability and quality</legend>
                <label class="radio">
                    <input type="radio" name="r1" />
                    Few problems, entire page is readable
                </label>
                <label class="radio">
                    <input type="radio" name="r1" />
                    Some problems, but still readable
                </label>
                <label class="radio">
                    <input type="radio" name="r1" />
                    Significant problems, difficult or impossible to read
                </label>
            </fieldset>

            <fieldset>
                <legend>Specific page image problems?</legend>
                <label class="checkbox">
                    <input type="checkbox" name="r1" />
                    Missing parts of the page
                </label>
                <label class="checkbox">
                    <input type="checkbox" name="r1" />
                    Blurry text
                </label>
                <label class="checkbox">
                    <input type="checkbox" name="r1" />
                    Curved or distorted text
                </label>
                <label>Other problem <input type="text" type="text" class="input-medium" /></label>
            </fieldset>

            <fieldset>
                <legend>Problems with access rights?</legend>
                <p style="font-weight: bold; margin-top: 0">
                    (See also: <a href="#">take-down policy</a>)
                </p>
                <label class="radio">
                    <input type="radio" name="r2" />
                    This item is in the public domain, but I don't have access to it.
                </label>
                <label class="radio">
                    <input type="radio" name="r2" />
                    I have access to this item, but should not.
                </label>
            </fieldset>

            <p>
                <label>Other problems or comments?</label>
                &lt;textarea rows="3">&lt;/textarea>
            </p>

            <p>
                <em>To request a reply, enter your email address below. 
                    (We will make every effort to address copyright issues by the next business day 
                    after notification.)</em>
                <input type="text" class="input-large" placeholder="[Your email address]" />
            </p>


        </form>

    </div>
    <div class="modal-footer">
        <a href="#" class="btn btn-primary" data-dismiss="modal">OK</a>
        <a href="#" class="btn" data-dismiss="modal">Cancel</a>
    </div>
</div>
        </textarea>


        
        <h3><a href="http://fancyapps.com/fancybox/">fancyBox</a></h3>
        <p>
            fancyBox is a modal "lightbox" for highlighting content on top of the current page.
            This is not strictly a <em>dialog box</em> --- the main reason to use fancyBox is 
            to highlight content of variable dimensions (such as larger images). fancyBox will 
            scale these to best fit the available viewing area.
        </p>
        <p>
            Include the fancyBox support resources in <tt>head</tt>:
        </p>
        <textarea class="example">
<link rel="stylesheet" type="text/css" href="//babel.hathitrust.org/common/unicorn/vendors/fancyBox/source/jquery.fancybox.css" />
<script type="text/javascript" src="//babel.hathitrust.org/common/unicorn/vendors/fancybox/source/jquery.fancyBox.js"></script>
        </textarea>

        <p>
            fancyBox can be used declaratively:
        </p>
        <textarea class="example">
<a class="fancybox" href="fancybox_popup.html">Open Popup</a>
        </textarea>

        <p>
            ...or via a scripted event:
        </p>
        <textarea class="example">
$(".open").click(function() {
    var $this = $(this);
    $.fancybox.open([ { href : $this.attr('href'), type : 'image' } ]);
})
        </textarea>
        <p>
            <a href="http://images.nationalgeographic.com/wpf/media-live/photos/000/629/custom/62974_1600x1200-wallpaper-cb1357835854.jpg" class="demo-image btn">Open Picture</a>
        </p>
        <script>
        head.ready(function() {
            $(".demo-image").click(function() {
                var $this = $(this);
                $.fancybox.open([ { href : $this.attr('href'), type : 'image' } ]);
                return false;
            })
        })
        </script>



    </div>
</div>
<script src="../js/examples.js"></script>


		<div class="navbar navbar-static-bottom navbar-inverse footer">
		<div class="navbar-inner">
			
			<ul class="nav pull-right">
				<li><a href="http://www.hathitrust.org/">Home</a></li>
				<li><a href="http://www.hathitrust.org/about">About</a></li>
				<li><a href="http://babel.hathitrust.org/cgi/mb">Collections</a></li>
				<li><a href="http://www.hathitrust.org/help">Help</a></li>
				<li><a href="#" data-m="ht" data-id="HathiTrust Project Unicorn Guide" data-toggle="feedback">Feedback</a></li>
				<li><a href="http://m.hathitrust.org">Mobile</a></li>
				<li><a href="http://www.hathitrust.org/take_down_policy">Take-Down Policy</a></li>
				<li><a href="http://www.hathitrust.org/privacy">Privacy</a></li>
				<li><a href="http://www.hathitrust.org/contact">Contact</a></li>
			</ul>
		</div>
	</div>


</body>
</html>